# EFS
AWS 클라우드 서비스와 온프레미스 리소스에서 사용할 수 있는 간단하고 확장 가능하며 탄력적인 완전 관리형 NFS 파일 시스템.  
사용자가 파일을 추가하고 제거할 때 자동으로 확장/축소되므로 데이터 증가에 맞춰 용량을 프로비저닝되기에 사용자가 관리할 필요가 없다.  

지원되는 NFS 프로토콜
- NFSv3.X
- NFSv4.0
- NFSv4.1

파일 시스템에서 사용한 [스토리지](#EFS-스토리지-클래스)에 대해서만 비용 지불.  
EFS 기본적으로 AWS Region의 다중 가용 영역에 걸쳐 데이터와 메타데이터를 저장함.  
강력한 데이터 일관성 및 파일 잠금 등 파일 시스템 액세스를 제어함.

## EFS 스토리지 클래스
- Standard : 자주 액세스되는 파일용
- Infrequent Access : 자주 액세스 하지 않으나 오래 보관이 필요한 파일용

## EFS 데이터 일관성
애플리케이션이 NFS에서 기대하는 닫기 후 열기(close-to-open) 일관성 의미 체계를 제공함.  
다음과 같은 경우 쓰기 작업이 가용 영역 전체에서 영구적으로 저장  
- 애플리케이션이 동기식 쓰기 작업을 수행하는 경우(예: O_DIRECT 플래그가 지정된 open Linux 명령 또는 fsync Linux 명령 사용)
- 애플리케이션이 파일을 닫는 경우

